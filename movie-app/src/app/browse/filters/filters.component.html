<div class="filters-box">

  <mat-drawer-container class="example-container" [hasBackdrop]="false">
    <mat-drawer #drawer mode="over">
      <div class="container" [formGroup]="discoverFilters">
        <button mat-raised-button color="accent" (click)="changeMode('search')">Go to Search</button>

        <!-- SORT -->
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title> Sort </mat-panel-title>
          </mat-expansion-panel-header>
          <div class="panel-cotent">
            <mat-form-field appearance="outline">
              <mat-label>Sort Result By</mat-label>
              <mat-select formControlName="selectedSort">
                <mat-option value="popularity.asc"> Popularity Ascending </mat-option>
                <mat-option value="popularity.desc">
                  Popularity Descending
                </mat-option>

                <mat-option value="vote_average.asc"> Rating Ascending </mat-option>
                <mat-option value="vote_average.desc"> Rating Descending </mat-option>

                <mat-option value="release_date.asc">
                  Release Date Ascending
                </mat-option>
                <mat-option value="release_date.desc">
                  Release Date Descending
                </mat-option>

                <mat-option value="revenue.asc"> Revenue Ascending </mat-option>
                <mat-option value="revenue.desc"> Revenue Descending </mat-option>

                <mat-option value="original_title.asc"> Title (A-Z) </mat-option>
                <mat-option value="original_title.desc"> Title (Z-A) </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </mat-expansion-panel>

        <!-- Filters -->
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title> Filters </mat-panel-title>
          </mat-expansion-panel-header>

          <div class="panel-content">
            <mat-form-field appearance="outline">
              <mat-label>Media Type</mat-label>
              <mat-select formControlName="selectedMedia">
                <mat-option value="movie">Movies</mat-option>
                <mat-option value="tv">Shows</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Genres</mat-label>
              <mat-select formControlName="selectedGenres" multiple>
                <mat-option *ngFor="let genre of genres" [value]="genre.id">{{genre.name}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </mat-expansion-panel>

        <!-- Providers -->
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title> Where to watch </mat-panel-title>
          </mat-expansion-panel-header>
          <div class="panel-content">Coming Soon...</div>
        </mat-expansion-panel>

        <button mat-raised-button color="primary" (click)="onSearch()">
          <mat-icon>search</mat-icon> Search
        </button>

      </div>
    </mat-drawer>
    <mat-drawer-content>
      <div class="container" [formGroup]="searchFilters">
        <button mat-raised-button color="accent" (click)="changeMode('discover')">Go to Dicover</button>

        <mat-form-field appearance="fill">
          <mat-label>Query</mat-label>
          <input matInput autocomplete="off" formControlName="query" />
          <button matSuffix mat-icon-button aria-label="Clear" *ngIf="searchFilters.get('query')?.value" (click)="
          searchFilters.patchValue({
              query: ''
            })
          ">
            <mat-icon>clear</mat-icon>
          </button>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Media Type</mat-label>
          <mat-select formControlName="selectedMedia">
            <mat-option value="multi">All</mat-option>
            <mat-option value="movie">Movies</mat-option>
            <mat-option value="tv">Shows</mat-option>
          </mat-select>
        </mat-form-field>

        <button mat-raised-button color="primary" (click)="onSearch()"
          [disabled]="!searchFilters.get('query')?.value.trim().length">
          <mat-icon>search</mat-icon> Search
        </button>

      </div>
    </mat-drawer-content>
  </mat-drawer-container>
</div>